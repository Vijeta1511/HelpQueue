{"ast":null,"code":"import _classCallCheck from\"/Users/vijetaagrawal/Documents/BarclaysTraining/HelpQueue/React-HelpQueue/help-queue-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/vijetaagrawal/Documents/BarclaysTraining/HelpQueue/React-HelpQueue/help-queue-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/vijetaagrawal/Documents/BarclaysTraining/HelpQueue/React-HelpQueue/help-queue-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/vijetaagrawal/Documents/BarclaysTraining/HelpQueue/React-HelpQueue/help-queue-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/vijetaagrawal/Documents/BarclaysTraining/HelpQueue/React-HelpQueue/help-queue-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import TechnicianService from'../services/TechnicianService';import TicketService from'../services/TicketService';import{withRouter}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AssignTicketDeploymentComponent=/*#__PURE__*/function(_Component){_inherits(AssignTicketDeploymentComponent,_Component);var _super=_createSuper(AssignTicketDeploymentComponent);function AssignTicketDeploymentComponent(props){var _this;_classCallCheck(this,AssignTicketDeploymentComponent);_this=_super.call(this,props);_this.changeTechnicianHandler=function(event){_this.setState({asignee:event.target.value});};_this.assignTicket=function(e){e.preventDefault();var ticket={asignee:_this.state.asignee};console.log('ticket => '+JSON.stringify(ticket));TicketService.assignTicket(_this.state.id,ticket).then(function(res){_this.props.history.push('/deployment-tickets');});};_this.state={id:_this.props.match.params.id,technicians:[],asignee:''};_this.changeTechnicianHandler=_this.changeTechnicianHandler.bind(_assertThisInitialized(_this));_this.assignTicket=_this.assignTicket.bind(_assertThisInitialized(_this));_this.cancel=_this.cancel.bind(_assertThisInitialized(_this));return _this;}_createClass(AssignTicketDeploymentComponent,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;console.log(this.state.id);TechnicianService.getTechnicians(this.state.id).then(function(res){_this2.setState({technicians:res.data});});TicketService.getTicketById(this.state.id).then(function(res){var ticket=res.data;_this2.setState({asignee:ticket.asignee});console.log('ticket => '+JSON.stringify(ticket));});}},{key:\"cancel\",value:function cancel(){this.props.history.push('/deployment-tickets');}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card col-md-6 offset-md-3 offset-md-3\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"br\",{}),\"Assign Ticket\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\" Select Technician: \"}),/*#__PURE__*/_jsxs(\"select\",{name:\"asignee\",className:\"form-control\",value:this.state.asignee,onChange:this.changeTechnicianHandler,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",selected:true,disabled:true,children:\"Please select\"}),this.state.technicians.map(function(e,key){return/*#__PURE__*/_jsx(\"option\",{value:e.value,children:e.name},key);})]}),/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-success\",onClick:this.assignTicket,style:{marginLeft:\"150px\"},children:\"Submit\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger\",onClick:this.cancel,style:{marginLeft:\"10px\"},children:\"Cancel\"})]})})]})})})]});}}]);return AssignTicketDeploymentComponent;}(Component);export default withRouter(AssignTicketDeploymentComponent);","map":{"version":3,"sources":["/Users/vijetaagrawal/Documents/BarclaysTraining/HelpQueue/React-HelpQueue/help-queue-frontend/src/components/AssignTicketDeploymentComponent.jsx"],"names":["React","Component","TechnicianService","TicketService","withRouter","AssignTicketDeploymentComponent","props","changeTechnicianHandler","event","setState","asignee","target","value","assignTicket","e","preventDefault","ticket","state","console","log","JSON","stringify","id","then","res","history","push","match","params","technicians","bind","cancel","getTechnicians","data","getTicketById","map","key","name","marginLeft"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport TechnicianService from '../services/TechnicianService';\nimport TicketService from '../services/TicketService';\nimport {withRouter} from 'react-router-dom';\n\nclass AssignTicketDeploymentComponent extends Component {\n    constructor(props) {\n        super(props)\n        \n        this.state = {\n            id: this.props.match.params.id,\n            technicians: [],\n            asignee: ''\n        }\n        this.changeTechnicianHandler = this.changeTechnicianHandler.bind(this); \n        this.assignTicket = this.assignTicket.bind(this); \n        this.cancel = this.cancel.bind(this);\n    }\n\n    changeTechnicianHandler=(event) =>{\n        this.setState({asignee: event.target.value});\n    }\n\n    componentDidMount(){\n        console.log(this.state.id);\n        TechnicianService.getTechnicians(this.state.id).then( (res) => {\n            this.setState({technicians: res.data});\n        });\n\n        TicketService.getTicketById(this.state.id).then( (res) => {\n            let ticket = res.data;\n            this.setState({asignee: ticket.asignee});\n            console.log('ticket => ' + JSON.stringify(ticket));\n        });\n    }\n\n    assignTicket = (e) => {\n        e.preventDefault();\n        let ticket = {asignee: this.state.asignee}\n        console.log('ticket => ' + JSON.stringify(ticket));\n\n        TicketService.assignTicket(this.state.id, ticket).then( res => {\n            this.props.history.push('/deployment-tickets');\n        });\n    }\n\n    cancel(){\n        this.props.history.push('/deployment-tickets');\n    }\n\n    render() {\n        return (\n            <div>\n                <br /><br />\n                <div className= \"container\">\n                    <div className= \"row\">\n                        <div className=\"card col-md-6 offset-md-3 offset-md-3\">\n                            <h3 className=\"text-center\"><br />Assign Ticket</h3>\n                            <div className = \"card-body\">\n                                <form>\n                                    <div className = \"form-group\">\n                                        <label> Select Technician: </label>\n                                        <select name=\"asignee\" className=\"form-control\" \n                                        value={this.state.asignee} onChange={this.changeTechnicianHandler}>\n                                            <option value=\"\" selected disabled>Please select</option>\n                                            {this.state.technicians.map((e, key) => {\n                                                return <option key={key} value={e.value}>{e.name}</option>;\n                                            })}\n                                        </select>\n                                        <br />\n                                    </div>\n                                    <button className=\"btn btn-success\" onClick={this.assignTicket} style={{marginLeft: \"150px\"}}>Submit</button>\n                                    <button className=\"btn btn-danger\" onClick={this.cancel} style={{marginLeft: \"10px\"}}>Cancel</button>\n                                </form>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default withRouter(AssignTicketDeploymentComponent);"]},"metadata":{},"sourceType":"module"}